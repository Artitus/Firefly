From f08195fc0783a58eabafa7da8bfe35d460f2dede Mon Sep 17 00:00:00 2001
From: Mark Vainomaa <mikroskeem@mikroskeem.eu>
Date: Sat, 13 Apr 2019 22:52:38 +0300
Subject: [PATCH] Drop modules support


diff --git a/pom.xml b/pom.xml
index 7c8eb6b5..a677e5f8 100644
--- a/pom.xml
+++ b/pom.xml
@@ -64,7 +64,9 @@
         <module>log</module>
         -->
         <module>log4j</module>
+        <!-- MikroCord - drop modules support
         <module>module</module>
+        -->
         <module>protocol</module>
         <module>proxy</module>
         <module>query</module>
diff --git a/proxy/src/main/java/net/md_5/bungee/BungeeCord.java b/proxy/src/main/java/net/md_5/bungee/BungeeCord.java
index 502cc8ea..ad067648 100644
--- a/proxy/src/main/java/net/md_5/bungee/BungeeCord.java
+++ b/proxy/src/main/java/net/md_5/bungee/BungeeCord.java
@@ -164,7 +164,7 @@ public class BungeeCord extends ProxyServer
             .registerTypeAdapter( Favicon.class, Favicon.getFaviconTypeAdapter() ).create();
     @Getter
     private ConnectionThrottle connectionThrottle;
-    private final ModuleManager moduleManager = new ModuleManager();
+    //private final ModuleManager moduleManager = new ModuleManager(); // MikroCord - drop modules support
 
     {
         // TODO: Proper fallback when we interface the manager
@@ -259,9 +259,11 @@ public class BungeeCord extends ProxyServer
         bossEventLoopGroup = PipelineUtils.newEventLoopGroup( 0, new ThreadFactoryBuilder().setNameFormat( "Netty Boss IO Thread #%1$d" ).build() );
         workerEventLoopGroup = PipelineUtils.newEventLoopGroup( 0, new ThreadFactoryBuilder().setNameFormat( "Netty Worker IO Thread #%1$d" ).build() );
 
+        /* // MikroCord start - drop modules support
         File moduleDirectory = new File( "modules" );
         moduleManager.load( this, moduleDirectory );
         pluginManager.detectPlugins( moduleDirectory );
+        */ // MikroCord end
 
         pluginsFolder.mkdir();
         pluginManager.detectPlugins( pluginsFolder );
-- 
2.21.0

