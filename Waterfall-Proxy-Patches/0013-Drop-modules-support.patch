From 44ee9e26a391fb1ed85691a8abb38e25e10dcd23 Mon Sep 17 00:00:00 2001
From: Mark Vainomaa <mikroskeem@mikroskeem.eu>
Date: Sat, 13 Apr 2019 22:52:38 +0300
Subject: [PATCH] Drop modules support


diff --git a/pom.xml b/pom.xml
index 86cb57c5..0cc809b2 100644
--- a/pom.xml
+++ b/pom.xml
@@ -57,7 +57,9 @@
         <module>event</module>
         <module>log</module>
         <module>log4j</module>
+        <!-- MikroCord - drop modules support
         <module>module</module>
+        -->
         <module>protocol</module>
         <module>proxy</module>
         <module>query</module>
diff --git a/proxy/src/main/java/net/md_5/bungee/BungeeCord.java b/proxy/src/main/java/net/md_5/bungee/BungeeCord.java
index c5a49879..a286f35d 100644
--- a/proxy/src/main/java/net/md_5/bungee/BungeeCord.java
+++ b/proxy/src/main/java/net/md_5/bungee/BungeeCord.java
@@ -164,7 +164,7 @@ public class BungeeCord extends ProxyServer
             .registerTypeAdapter( Favicon.class, Favicon.getFaviconTypeAdapter() ).create();
     @Getter
     private ConnectionThrottle connectionThrottle;
-    private final ModuleManager moduleManager = new ModuleManager();
+    //private final ModuleManager moduleManager = new ModuleManager(); // MikroCord - drop modules support
 
     // MikroCord start - Configuration adapters
     private ConfigurationAdapter waterfallConfigurationAdapter = new YamlConfig(new File("waterfall.yml")) {
@@ -311,9 +311,11 @@ public class BungeeCord extends ProxyServer
         bossEventLoopGroup = PipelineUtils.newEventLoopGroup( 0, new ThreadFactoryBuilder().setNameFormat( "Netty Boss IO Thread #%1$d" ).build() );
         workerEventLoopGroup = PipelineUtils.newEventLoopGroup( 0, new ThreadFactoryBuilder().setNameFormat( "Netty Worker IO Thread #%1$d" ).build() );
 
+        /* // MikroCord start - drop modules support
         File moduleDirectory = new File( "modules" );
         moduleManager.load( this, moduleDirectory );
         pluginManager.detectPlugins( moduleDirectory );
+        */ // MikroCord end
 
         pluginsFolder.mkdir();
         pluginManager.detectPlugins( pluginsFolder );
-- 
2.21.0

