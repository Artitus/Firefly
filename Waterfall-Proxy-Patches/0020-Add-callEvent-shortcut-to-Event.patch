From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Mark Vainomaa <mikroskeem@mikroskeem.eu>
Date: Sun, 14 Apr 2019 19:15:00 +0300
Subject: [PATCH] Add callEvent() shortcut to Event


diff --git a/api/src/main/java/net/md_5/bungee/api/plugin/Event.java b/api/src/main/java/net/md_5/bungee/api/plugin/Event.java
index e2e01ecb0265e599a375c0147dfc383301112c1c..d98621e094c857787631c24c04de8eea1ce31911 100644
--- a/api/src/main/java/net/md_5/bungee/api/plugin/Event.java
+++ b/api/src/main/java/net/md_5/bungee/api/plugin/Event.java
@@ -12,4 +12,19 @@ public abstract class Event
     public void postCall()
     {
     }
+    // MikroCord start - Add callEvent() shortcut, borrowed from PaperMC/Paper
+    /**
+     * Calls event and returns if it was cancelled or not. Returns always true if event
+     * does not implement {@link Cancellable}
+     *
+     * @return True if event was not cancelled
+     */
+    public final boolean callEvent() {
+        net.md_5.bungee.api.ProxyServer.getInstance().getPluginManager().callEvent(this);
+        if (this instanceof Cancellable) {
+            return !((Cancellable) this).isCancelled();
+        }
+        return true;
+    }
+    // MikroCord end
 }
